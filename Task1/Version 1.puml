@startuml C1_Вариант1
!include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Context.puml

Person(директор, "Директор хозяйства", "Управление через веб-портал")
Person(аналитик, "Аналитик", "Работа с BI-системой")
Person(оператор, "Оператор мониторинга", "Контроль состояния животных, запасов корма")

System(агент_фермы, "Агент фермы (Edge)", "Обработка телеметрии, буферизация, экстренные уведомления, ML-сервер для обработки видео и рекомендаций")
System(центральный_сервер, "Центральный сервер", "Агрегация данных с ферм, долгосрочная аналитика, отчетность, глубокая видеоаналитика")
System_Ext(erp_system, "ERP система (1С:Агро)", "Финансы, склад, кадры")
System_Ext(bi_system, "BI система", "Отчеты и визуализация")

Rel(агент_фермы, центральный_сервер, "Передача данных\n(задержка до 10 минут)")
Rel(директор, центральный_сервер, "Использует")
Rel(центральный_сервер, bi_system, "Передает данные")
Rel(центральный_сервер, erp_system, "Передает данные")
Rel(erp_system, центральный_сервер, "Передает обработанные данные")
Rel(аналитик, bi_system, "Анализирует")
Rel_R(оператор, агент_фермы, "Получает экстренные уведомления, отчитывается об исправлении ситуации")

@enduml