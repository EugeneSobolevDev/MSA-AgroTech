@startuml C1_Вариант2
!include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Context.puml

Person(директор, "Директор хозяйства", "Управление через веб-портал")
Person(аналитик, "Аналитик", "Работа с BI-системой")
Person(оператор, "Оператор мониторинга", "Контроль состояния животных, запасов корма")

System(агент_сбора, "Агент сбора данных", "Сбор телеметрии, буферизация, базовые триггеры, передача видео")
System(центральный_сервер, "Центральный сервер", "Глубокая видеоаналитика, ML-обработка, управление, отчетность")
System_Ext(erp_system, "ERP система (1С:Агро)", "Финансы, склад, кадры")
System_Ext(bi_system, "BI система", "Отчеты и визуализация")

Rel(агент_сбора, центральный_сервер, "Передача видео и телеметрии\n(задержка до 10 минут)")
Rel(центральный_сервер, агент_сбора, "Команды управления, экстренные оповещения")
Rel(директор, центральный_сервер, "Использует")
Rel(аналитик, bi_system, "Анализирует")
Rel_R(оператор, агент_сбора, "получает оповещения от центра")
Rel(центральный_сервер, bi_system, "Передает данные")
Rel(центральный_сервер, erp_system, "Передает данные")
Rel(erp_system, центральный_сервер, "Передает обработанные данные")
@enduml